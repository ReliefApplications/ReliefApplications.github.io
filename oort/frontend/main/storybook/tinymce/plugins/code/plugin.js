!function(){"use strict";var global=tinymce.util.Tools.resolve("tinymce.PluginManager");!function Plugin(){global.add("code",(function(editor){return function(editor){editor.addCommand("mceCodeEditor",(function(){!function(editor){var editorContent=function(editor){return editor.getContent({source_view:!0})}(editor);editor.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:editorContent},onSubmit:function(api){!function(editor,html){editor.focus(),editor.undoManager.transact((function(){editor.setContent(html)})),editor.selection.setCursorLocation(),editor.nodeChanged()}(editor,api.getData().code),api.close()}})}(editor)}))}(editor),function(editor){var onAction=function(){return editor.execCommand("mceCodeEditor")};editor.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction}),editor.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction})}(editor),{}}))}()}();