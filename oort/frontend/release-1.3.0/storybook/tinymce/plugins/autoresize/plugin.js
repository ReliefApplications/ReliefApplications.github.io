!function(){"use strict";var hasOwnProperty=Object.hasOwnProperty,global$2=tinymce.util.Tools.resolve("tinymce.PluginManager"),global$1=tinymce.util.Tools.resolve("tinymce.Env"),global=tinymce.util.Tools.resolve("tinymce.util.Delay"),getAutoResizeMinHeight=function(editor){return editor.getParam("min_height",editor.getElement().offsetHeight,"number")},wait=function(editor,oldSize,times,interval,callback){global.setEditorTimeout(editor,(function(){resize(editor,oldSize),times--?wait(editor,oldSize,times,interval,callback):callback&&callback()}),interval)},toggleScrolling=function(editor,state){var body=editor.getBody();body&&(body.style.overflowY=state?"":"hidden",state||(body.scrollTop=0))},parseCssValueToInt=function(dom,elm,name,computed){var value=parseInt(dom.getStyle(elm,name,computed),10);return isNaN(value)?0:value},resize=function(editor,oldSize,trigger){var dom=editor.dom,doc=editor.getDoc();if(doc)if(function(editor){return editor.plugins.fullscreen&&editor.plugins.fullscreen.isFullscreen()}(editor))toggleScrolling(editor,!0);else{var docEle=doc.documentElement,resizeBottomMargin=function(editor){return editor.getParam("autoresize_bottom_margin",50,"number")}(editor),resizeHeight=getAutoResizeMinHeight(editor),marginTop=parseCssValueToInt(dom,docEle,"margin-top",!0),marginBottom=parseCssValueToInt(dom,docEle,"margin-bottom",!0),contentHeight=docEle.offsetHeight+marginTop+marginBottom+resizeBottomMargin;contentHeight<0&&(contentHeight=0);var chromeHeight=editor.getContainer().offsetHeight-editor.getContentAreaContainer().offsetHeight;contentHeight+chromeHeight>getAutoResizeMinHeight(editor)&&(resizeHeight=contentHeight+chromeHeight);var maxHeight=function(editor){return editor.getParam("max_height",0,"number")}(editor);if(maxHeight&&resizeHeight>maxHeight?(resizeHeight=maxHeight,toggleScrolling(editor,!0)):toggleScrolling(editor,!1),resizeHeight!==oldSize.get()){var deltaSize=resizeHeight-oldSize.get();if(dom.setStyle(editor.getContainer(),"height",resizeHeight+"px"),oldSize.set(resizeHeight),function(editor){editor.fire("ResizeEditor")}(editor),global$1.browser.isSafari()&&global$1.mac){var win=editor.getWin();win.scrollTo(win.pageXOffset,win.pageYOffset)}editor.hasFocus()&&function(trigger){if("setcontent"===(null==trigger?void 0:trigger.type.toLowerCase())){var setContentEvent=trigger;return!0===setContentEvent.selection||!0===setContentEvent.paste}return!1}(trigger)&&editor.selection.scrollIntoView(),global$1.webkit&&deltaSize<0&&resize(editor,oldSize,trigger)}}};!function Plugin(){global$2.add("autoresize",(function(editor){var obj,key,value;if(obj=editor.settings,key="resize",hasOwnProperty.call(obj,key)||(editor.settings.resize=!1),!editor.inline){var oldSize=(value=0,{get:function(){return value},set:function(v){value=v}});!function(editor,oldSize){editor.addCommand("mceAutoResize",(function(){resize(editor,oldSize)}))}(editor,oldSize),function(editor,oldSize){editor.on("init",(function(){var overflowPadding=function(editor){return editor.getParam("autoresize_overflow_padding",1,"number")}(editor),dom=editor.dom;dom.setStyles(editor.getDoc().documentElement,{height:"auto"}),dom.setStyles(editor.getBody(),{paddingLeft:overflowPadding,paddingRight:overflowPadding,"min-height":0})})),editor.on("NodeChange SetContent keyup FullscreenStateChanged ResizeContent",(function(e){resize(editor,oldSize,e)})),function(editor){return editor.getParam("autoresize_on_init",!0,"boolean")}(editor)&&editor.on("init",(function(){wait(editor,oldSize,20,100,(function(){wait(editor,oldSize,5,1e3)}))}))}(editor,oldSize)}}))}()}();