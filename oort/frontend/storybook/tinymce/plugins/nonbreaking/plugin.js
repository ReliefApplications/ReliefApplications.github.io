!function(){"use strict";var global$1=tinymce.util.Tools.resolve("tinymce.PluginManager"),stringRepeat=function(string,repeats){for(var str="",index=0;index<repeats;index++)str+=string;return str},insertNbsp=function(editor,times){var html=function(editor){return editor.getParam("nonbreaking_wrap",!0,"boolean")}(editor)||editor.plugins.visualchars?'<span class="'+(function(editor){return!!editor.plugins.visualchars&&editor.plugins.visualchars.isEnabled()}(editor)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap")+'" contenteditable="false">'+stringRepeat("&nbsp;",times)+"</span>":stringRepeat("&nbsp;",times);editor.undoManager.transact((function(){return editor.insertContent(html)}))},global=tinymce.util.Tools.resolve("tinymce.util.VK");!function Plugin(){global$1.add("nonbreaking",(function(editor){!function(editor){editor.addCommand("mceNonBreaking",(function(){insertNbsp(editor,1)}))}(editor),function(editor){var onAction=function(){return editor.execCommand("mceNonBreaking")};editor.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:onAction}),editor.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:onAction})}(editor),function(editor){var spaces=function(editor){var spaces=editor.getParam("nonbreaking_force_tab",0);return"boolean"==typeof spaces?!0===spaces?3:0:spaces}(editor);spaces>0&&editor.on("keydown",(function(e){if(e.keyCode===global.TAB&&!e.isDefaultPrevented()){if(e.shiftKey)return;e.preventDefault(),e.stopImmediatePropagation(),insertNbsp(editor,spaces)}}))}(editor)}))}()}();